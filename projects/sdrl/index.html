<!DOCTYPE html>
<html>
<head>
    <title>SDRL Interpreter</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="canonical" href="https://jabberwocky.ca/projects/sdrl/" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Recursive" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="../../assets/normalize.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="../../assets/layout.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="../../assets/code.css" type="text/css" charset="utf-8" />
</head>
<body>
<div id="main">

    <div id="menu-toggle">&#x2630;</div>
    <input class="toggle-trigger" type="checkbox" checked />
    <div id="sidebar" class="toggle">
        <a href="../../"><h2>Projects</h2></a>
        <hr>

<a href="#download">Get the Source</a><hr>
<a href="../../projects/computie/">Computie 68k</a><br>
<a href="../../projects/molten/">Molten</a><br>
<a href="../../projects/moa/">Moa Emulator</a><br>
<a href="../../projects/nerve/">Nerve Control Network</a><br>
<a href="../../projects/rgbnode/">RGB Node</a><br>
<a href="../../projects/rgbnode-rs/">RGB Node with Rust</a><br>
<a href="../../projects/webmush/">WebMUSH</a><br>
<a href="../../projects/conlog/">Conlog</a><br>
<a href="../../projects/fallingrust/">Falling Rust</a><br>
<a href="../../projects/abugslife/">A Bug's Life</a><br>
<a href="../../projects/acamlslife/">A Caml's Life</a><br>
<a href="../../projects/synthetik/">Synthetik Synth</a><br>
<a href="../../projects/meteorman/">Meteor Games</a><br>
<a href="../../projects/logarithm/">Logarithm IRC Bot</a><br>
<a href="../../projects/sdm/">Super Duper Moo</a><br>
<a href="../../projects/sdrl/">SDRL Interpreter</a><br>
<a href="../../projects/stutter/">Stutter IRC Client</a><br>
<hr>
<h3>Posts</h3>
<ul><li><a href="../../posts/2021-11-making_an_emulator.html">Making a 68000 Emulator in Rust</a></li>
<li><a href="../../posts/2021-09-bootstrapping_with_arduino.html">Bootstrapping a Homebuilt Computer Using An Arduino</a></li>
<li><a href="../../posts/2021-08-molten_overview.html">An Overview Of Molten Internals</a></li>
</ul>

        <hr>
        <a href="https://github.com/transistorfet"><img width="32" src="../../assets/github.png"></a>
        <a href="https://twitter.com/transistorfet"><img width="32" src="../../assets/twitter.svg"></a>
        <a href="https://linkedin.com/in/sarimcfarland"><img width="32" src="../../assets/linkedin.png"></a>
    </div>
    <div id="content">

<h1 id="sdrl">SDRL</h1>
<h6 id="started-january-23-2004"><em>Started January 23, 2004</em></h6>
<p>SDRL is a very strange language I made near the end of university.  It was the evolution of efforts to make a language
with an overly simplified syntax.  The previous languages were purposefuly obtuse and all language constructs were a single
character.  With SDRL, the actual parser was selectable, with the default eventually being a scheme/lisp-like syntax, but
it was designed such that almost everything was a function.  The only 'form' (in the scheme sense) is the (code ...) expression,
which returns an expression-type object (the parsed AST) for the code that appears within the brackets.  Everything else is a
function, including the (if ...) statements, which are passed the conditional blocks as expression-type values.  It then
evaluates the appropriate expression based on the result of the conditional expression.</p>
<h2 id="running">Running</h2>
<p>There shouldn't be a need to run ./configure before compiling.  After compiling, a single binary named 'sdrl'
will be created in bin/, as well as some static libraries lib/.  There is no install option.</p>
<div class="codehilite"><pre><span></span><code>tar -xvzf sdrl.tar.gz
cd sdrl
make
bin/sdrl test.sdrl
</code></pre></div>

<h2 id="towers-of-hanoi-example-in-sdrl">Towers of Hanoi Example in SDRL</h2>
<div class="codehilite"><pre><span></span><code>(set move-tower (lexblock
    (setlist (@ func from to discs) ($ _))
    (if (= ($ discs) 1)
        (code
            (move-disc ($ from) ($ to)))
        (code
            (move-tower ($ from)
                        (- 6 ($ from) ($ to))
                        (- ($ discs) 1))
            (move-disc ($ from) ($ to))
            (move-tower (- 6 ($ from) ($ to))
                        ($ to)
                        (- ($ discs) 1))))))

(set move-disc (lexblock
    (setlist (@ func from to) ($ _))
    (print &quot;Moved disc from &quot; ($ from) &quot; to &quot; ($ to) &quot;\n&quot;)))

(move-tower 1 3 3)
</code></pre></div>

<h2 id="news">News</h2>
<h5 id="version-03-released">Version 0.3 Released!</h5>
<p class="entry"><em>December 23, 2007</em>
It's been a long long time since the last release and most of the changes in this release were implemented shortly
after that last release but as things go, I drifted into other projects and never got around to releasing those
changes.  I picked up the project again this fall and mostly reorganized and tidied up the code a bit but again
drifted into other things.  This release is somewhat hasty since I know full well that the planned changes will not be
implemented within a reasonable time-frame and the changes from version 0.2 are actually quite extensive.  I plan on
moving to git (hopefully tomorrow) before I take up coding again.  Major features in this release include an
events/continuation stack which allows for tail recursion, slightly improved error handling, and properly organized
libraries.  The parser has been completely removed from the core and put into the base library instead, allowing for
easy selection of the parser.  The primary parser has been changed to the "lispy" parser.  I also added the beginnings
of a proper automated test suite.  Plans for the next release are primarily to polish and optimize the code where
possible.</p>
<h5 id="version-02-released">Version 0.2 Released!</h5>
<p class="entry"><em>March 30, 2005</em>
Version 0.2 has been released.  Its been over a year and after some time away I have completely re-written the
interpreter.  It is completely incompatible with version 0.1 (but I assure you, much better).  I already have plans for
a next release but I am not sure how much I will implement by then.  Possible features include a dynamic parser, full
garbage collection (and therefore references), and better error handling/reporting mechanisms.</p>
<h5 id="version-01-released">Version 0.1 Released!</h5>
<p class="entry"><em>February 09, 2004</em>
Version 0.1 has been released.  It is very primative but it works.  I already have some ideas for major improvements but
I am unsure when I will get around to implementing them.</p><hr>
<a name="download"></a>
<h3>Get the Source</h3>
<a href="https://github.com/transistorfet/sdrl/">https://github.com/transistorfet/sdrl/</a><br><br>
Or clone with:<pre><code>git clone git@github.com:transistorfet/sdrl</code></pre>


    </div>
    <div id="footer">
        <hr>
        Made with <a href="../../generate.py">Python</a>
        <div class="email">trans@jabberwocky.ca</div>
    </div>
</div>
</body>
</html>

